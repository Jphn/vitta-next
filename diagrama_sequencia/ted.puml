@startuml TED
skinparam sequenceMessageAlign center

actor Cliente
participant FE as "Front-end\nRealizar Transferência/TED"
participant Sistema
participant MFA as "Serviço 2FA"
participant BACEN as "BACEN TED"

Cliente -> FE: Seleciona "PIX" > "Nova Transferência" 
activate FE

FE --> Cliente: Solicita número da conta e valor 
deactivate FE

Cliente -> FE: Informa número da conta e valor 
activate FE

FE -> Sistema: Verifica perfil e limites  
activate Sistema

alt limites OK
    Sistema --> FE: retorna OK
    FE --> Cliente: Solicita 2FA
    Cliente -> FE: Fornece OTP/biometria
    FE -> MFA: Valida credencial
    activate MFA

    MFA --> FE: Confirma credencial
    deactivate MFA

    FE -> BACEN: Envia instrução TED
    activate BACEN

    BACEN --> Sistema: Confirma retorno
    deactivate BACEN

    Sistema --> FE: Atualiza histórico
    FE --> Cliente: Exibe comprovante
else limites excedidos
    Sistema --> FE: Erro de limite
    deactivate Sistema

    FE --> Cliente: Exibe mensagem
    deactivate FE
end
@enduml