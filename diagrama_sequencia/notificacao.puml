@startuml Notificacao
skinparam sequenceMessageAlign center

actor Cliente
participant Sistema
participant SMS as "Gateway SMS"
participant Push as "Serviço Push"
participant EMail as "Serviço E-mail"

activate Sistema
Sistema -> Sistema: Gera notificação de evento

alt SMS habilitado
    Sistema -> SMS: Prepara SMS
    activate SMS

    SMS --> Sistema: SMS pronto
    deactivate SMS

    Sistema --> Cliente: Envia SMS
else Push habilitado
    Sistema -> Push: Prepara push
    activate Push

    Push --> Sistema: Push pronto
    deactivate Push

    Sistema --> Cliente: Envia Push
else E-mail habilitado
    Sistema -> EMail: Prepara E-mail
    activate EMail

    EMail --> Sistema: E-mail pronto
    deactivate EMail

    Sistema --> Cliente: Envia E-mail
end

Sistema -> Sistema: Registra envio e histórico
deactivate Sistema
@enduml